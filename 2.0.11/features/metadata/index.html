<!DOCTYPE html>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="High performance Java client for Apache Cassandra">
    <meta name="author" content="DataStax">

    <title>Java Driver for Apache Cassandra - Metadata</title>

    <link rel="icon" href="../../../favicon.ico">
    <link rel="apple-touch-icon" href="../../../favicon.png">
    <link href="../../../css/style.css" rel="stylesheet">
    <link href="../../../css/pygments.css" rel="stylesheet">
    <link href="../../../css/hotkeys.css" rel="stylesheet">

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body ng-app="docs" data-spy="scroll" data-target="#table-of-contents" data-offset="69">
    <header class="container-fluid navbar">
      <div class="row">
        <div class="col-sm-4">
          <a class="navbar-brand" href="../../"><img alt="Brand" src="../../../img/logo.png">Java Driver for Apache Cassandra</a>
        </div>
        <div class="col-md-4 col-md-offset-4">
          <div class="row">
            <div class="col-md-12">
              <ul class="list-inline" role="nav">
                <li><a href="https://academy.datastax.com/" class="navbar-link">DataStax Academy</a></li>
                <li><a href="http://www.datastax.com/dev/blog" class="navbar-link">Tech Blog</a></li>
                <li><a href="http://www.datastax.com/what-we-offer/products-services/support" class="navbar-link">Support</a></li>
              </ul>
            </div>
          </div>
          <div class="row">
            <div class="col-md-8">
              <form id="search" class="form-search dropdown visible-lg-block" ng-controller="search" ng-class="{open: hasResults}" role="search" ng-submit="submit()" data-spy="affix" data-offset-top="130">
                <div class="form-group has-feedback">
                  <input type="search" class="form-control input-sm mousetrap" placeholder="Search..." ng-model="q" ng-change="search('2.0.11')" ng-disabled="!searchReady" disabled data-hotkey="{down: moveDown, up: moveUp, esc: reset}" data-search>
                </div>
                <ul class="dropdown-menu search-results" role="menu">
                  <li ng-repeat="result in results" ng-class="{'bg-warning': $index == current}"><a ng-href="{{basePath}}{{result.path}}"><span ng-bind-html="summary(result)"></span></a></li>
                </ul>
              </form>
            </div>
            <div class="col-md-4">
              <a href="http://www.datastax.com/download" class="btn btn-primary btn-sm">Download</a>
            </div>
          </div>
        </div>
      </div>
      <div class="row crumbs-wrapper">
        <div class="col-md-12">
          <nav id="crumbs" data-spy="affix" data-offset-top="130">
            <ol class="breadcrumb">
              
              <li>
                <div class="btn-group">
                  <button id="current-version" class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    2.0.11
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="current-version">
                  
                    <li><a href="../../../features/metadata/">3.0.0-alpha5</a></li>
                  
                    <li><a href="../../../2.2.0-rc3/features/metadata/">2.2.0-rc3</a></li>
                  
                    <li><a href="../../../2.1.9/features/metadata/">2.1.9</a></li>
                  
                    <li><a href="../../../2.1.8/features/metadata/">2.1.8</a></li>
                  
                    <li><a href="../../../2.1.7/features/metadata/">2.1.7</a></li>
                  
                    <li><a href="../../../2.1.6/features/metadata/">2.1.6</a></li>
                  
                    <li><a href="../../../2.1.5/">2.1.5</a></li>
                  
                    <li><a href="../../../2.0.12/features/metadata/">2.0.12</a></li>
                  
                    <li class="disabled"><a href="./">2.0.11</a></li>
                  
                    <li><a href="../../../2.0.10.1/features/metadata/">2.0.10.1</a></li>
                  
                    <li><a href="../../../2.0.10/features/metadata/">2.0.10</a></li>
                  
                  </ul>
                </div>
              </li>
              
              
              
              
              <li><a href="../../">Home</a></li>
              
              
              
              
              
              <li><a href="../">Features</a></li>
              
              
              
              
              
              <li class="active">Metadata</li>
              <li class="dropdown" id="table-of-contents">
                <div class="btn-group">
                  <button id="current-section" type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">
                    Jump to&#8230; <span class="caret"></span><span class="sr-only">Table of Contents</span>
                  </button>
                  <ul class="dropdown-menu nav nav-pills nav-stacked">
                    <li>
<a href="#metadata">Metadata
</a><ul class="nav nav-pills nav-stacked">
<li>
<a href="#schema-metadata">Schema metadata
</a><ul class="nav nav-pills nav-stacked">
<li><a href="#refreshes">Refreshes
</a></li>
<li><a href="#subscribing-to-schema-changes">Subscribing to schema changes
</a></li>
<li><a href="#schema-agreement">Schema agreement
</a></li>
</ul>
</li>
<li><a href="#token-metadata">Token metadata
</a></li>
</ul>
</li>
                  </ul>
                </div>
              </li>
              
              
              
            </ol>
          </nav>
        </div>
      </div>
    </header>

    <div class="container-fluid" id="content">
      <div class="row">
        <div class="col-md-3">
          <div id="navigation" class="side-nav" role="tablist" aria-multiselectable="true">
            <h3>Contents</h3>
            <ul class="nav nav-pills nav-stacked">
  
  
  
  <li>
    <a href="../../changelog/">Changelog <small>page</small></a>
  </li>
  
  
  
  
  <li class="active">
    <a href="../">Features <small>page</small></a>
    <ul class="nav nav-pills nav-stacked">
  
  
  
  <li>
    <a href="../address_resolution/">Address resolution <small>page</small></a>
  </li>
  
  
  
  
  <li>
    <a href="../async/">Asynchronous programming <small>page</small></a>
  </li>
  
  
  
  
  <li>
    <a href="../compression/">Compression <small>page</small></a>
  </li>
  
  
  
  
  <li>
    <a href="../pooling/">Connection pooling <small>page</small></a>
  </li>
  
  
  
  
  <li>
    <a href="../logging/">Logging <small>page</small></a>
  </li>
  
  
  
  
  <li class="active">
    <a href="./" class="current">Metadata <small>page</small></a>
    
  </li>
  
  
  
  
  <li>
    <a href="../native_protocol/">Native protocol <small>page</small></a>
  </li>
  
  
  
  
  <li>
    <a href="../paging/">Paging <small>page</small></a>
  </li>
  
  
  
  
  <li>
    <a href="../speculative_execution/">Speculative query execution <small>page</small></a>
  </li>
  
  
  
  
  <li>
    <a href="../statements/">Statements <small>page</small></a>
  </li>
  
  
  
  
  <li>
    <a href="../shaded_jar/">Using the shaded JAR <small>page</small></a>
  </li>
  
  
</ul>

  </li>
  
  
  
  
  <li>
    <a href="../../faq/">Frequently Asked Questions <small>page</small></a>
  </li>
  
  
  
  
  <li>
    <a href="../../upgrade_guide/">Upgrade guide <small>page</small></a>
  </li>
  
  
</ul>

          </div>
        </div>
        <div class="col-md-9 content">
          

<h2 id="metadata" class="target">Metadata<a class="anchor" href="#metadata" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
</h2>

<p>The driver maintains global information about the Cassandra cluster it
is connected to. It is available via
<a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Cluster.html#getMetadata()">Cluster#getMetadata()</a>.</p>

<h3 id="schema-metadata" class="target">Schema metadata<a class="anchor" href="#schema-metadata" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
</h3>

<p>Use <a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Metadata.html#getKeyspace(java.lang.String)">getKeyspace(String)</a> or <a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Metadata.html#getKeyspaces()">getKeyspaces()</a>
to get keyspace-level metadata. From there you can access the keyspace’s
objects (tables, and UDTs and UDFs if relevant).</p>

<h4 id="refreshes" class="target">Refreshes<a class="anchor" href="#refreshes" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
</h4>

<p>Schema metadata gets refreshed in the following circumstances:</p>

<ul>
<li>
<strong>schema changes via the driver</strong>: after successfully executing a
schema-altering query (ex: <code>CREATE TABLE</code>), the driver waits for
schema agreement (see below), then refreshes the schema.</li>
<li>
<strong>third-party schema changes</strong>: if another client (cqlsh, other driver
instance…) changes the schema, the driver gets notified by Cassandra
via a push notification. It refreshes the schema directly (there is no
need to wait for schema agreement since Cassandra has already done it).</li>
</ul>

<h4 id="subscribing-to-schema-changes" class="target">Subscribing to schema changes<a class="anchor" href="#subscribing-to-schema-changes" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
</h4>

<p>Users interested in being notified of schema changes can implement the 
<a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/SchemaChangeListener.html">SchemaChangeListener</a> interface.</p>

<p>Every listener must <a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Cluster.html#register(com.datastax.driver.core.SchemaChangeListener)">be registered</a> against a <code>Cluster</code> instance:</p>
<pre class="highlight"><code><span class="n">Cluster</span> <span class="n">cluster</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">SchemaChangeListener</span> <span class="n">myListener</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">cluster</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="n">myListener</span><span class="o">);</span>
</code></pre>
<p>Once registered, the listener will be notified of all schema changes detected by the driver,
regardless of where they originate from.</p>

<p>Note that it is preferable to register a listener only <em>after</em> the cluster is fully initialized,
otherwise the listener could be notified with a great deal of “Added” events as
the driver builds the schema metadata from scratch for the first time.</p>

<h4 id="schema-agreement" class="target">Schema agreement<a class="anchor" href="#schema-agreement" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
</h4>

<p>Schema changes need to be propagated to all nodes in the cluster. Once
they have settled on a common version, we say that they are in
agreement.</p>

<p>As explained above, the driver waits for schema agreement after
executing a schema-altering query. This is to ensure that subsequent
requests (which might get routed to different nodes) see an up-to-date
version of the schema.</p>
<img src="data:image/png;base64,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%0AFLRx40ZVP2fOnBEjRmRlZaniu+++K8Xc3Fzthbt27RozZoyvr2/fvn3Dw8ON%0A62tqahITE4ODg6V+7NixOTk5xmfXq0c5GBIBBmixqps5c6Z0fvz48Vu2bFm4%0AcKHYhqoX+5H61NRUVezRo4cUT5w4oYorVqyQoqOj47Rp0+RVr7/+unH9okWL%0ApH7UqFErV67s2LGjh4dHSUmJwdn16lEOhkSAAVqs6kaOHCmdX7dunVm9gSFd%0AuXLFyclJirt37zZ9iV79pUuXHGu5deuWFCMjI+WYbdu2GZxdrx7lYEgEGKDF%0Aqm779u1tahkyZEhycnJ1dXWdhnTw4EHZdnFxKS8vN21Krz49PV3qZVY0vZag%0AoCApLl261ODsevUoB0MiwAAtWXXZ2dnDhg1TBjB58uQ6DWnv3r2y3alTp8rK%0AStN29Or37dsn9a6urjExMbFPkIMNzm5Qj3IwJAIM0MJVJ94jV9G2bdvCwkIp%0Ajh49WooyU5HtrKysdu3aaYaUl5enfOLw4cOmLejV5+fnq/pjx47ZePY661EO%0AhkSAAVqa6iIjIzds2CBOs2PHDrmKDh06lJWVPX7yeELfvn3nzp3brVs3d3d3%0A04caZMoixa5du8bHx2dkZKxataqiosKgPiIiQup79+69evXqtLS0uLg49eCc%0A3tn16lEOhkSAAVqs6sLCwtzc3KT/zs7O48aNy8zM1KY1w4cPl3o/P7/s7Gyz%0Ap+xKSkrEM9q3b6+mPj4+Pvfv3zeoLy8vj46OdnV1VfXe3t7iVQZn16tHORgS%0AAQZoyaqrqakpLCy8d++e5a4bN24YvLCqqur8+fOlpaU21suJCgoKiouLbTm7%0AQa9QDoZEgAFQHaAcDIkAQ4tQXVlZWVRUFMMFGBIBBrCn6o4fPx4YGIg+AUMi%0AwAB2U11VVVVcXJyLi4v6Sp/hAgyJAAPYQXV5eXkhISFtTGC4AEMiwADNrbqk%0ApCRPT882fw/DBRgSAQZoPtUVFRWFh4e3sQbDBRgSAQZoJtVlZGR4eXm10YHh%0AAgyJAAM0k+qSk5Mt79RB60SUgCFhSAD2VN3FixdDQ0OZIQEzJAwJ4JlQ3Zo1%0Aa7SnvTEkwJAIMIA9VXfmzBn1e1gMCTAkAgxgZ9U9ePBg/vz5GBJgSAQY4JlQ%0AXWZmpp+fH/oEDIkAA9hfdWVlZVOmTGG4AEMiwACoDlAOhkSAAdUBYEgEGADV%0AAcrBkAgwoDoADAlDAkB1gHIwJAIMqA4AQ8KQSA2A6gDlYEgEGFolxis6A2BI%0AGBIAAPkKQyLAAAAYEoaEygGAfIUhEWAAAAwJQ8KQAIB8hSERYAAA8hWGhCEB%0AAPkKQyLAAADkKwwJQwIA8hWGRIABAMhXGBKGBADkKwyJAAMAkK8wJAwJAMhX%0AGBIBbq3k5+ebFi9evNjGhJ49e7KXvU+/98GDB8ePHydfYUgEGHQ5evSon59f%0AUVERQwFNSl5enpeXl+iNfIUhEWCwwp07d8SNfvzxR4YCmmcu7u/vL6ojX2FI%0ABBjM2bRp00cffcQ4QLMxe/bsxMRE8hWGRIDBnGnTpqWlpTEO0GxkZGRMmjSJ%0AfIUhEWAw58yZM63t/gnYl6qqqrKyMvIVhkSAAQDIVxgSAQZ7UFBQcPbs2du3%0Abz/lCxvcTr3Iz8+Xs9y9e5fAPePMmDHD9lsLGBKGBA0hOTk5Pj7+4sWLqihv%0AOSl+/vnn2gGHDh36wx/+YNzI/Pnz+/fv/9VXX9nlEszOPnHiRFHL1q1b69uO%0A2Qsb3E69GDp0qJzlwIEDSPHZT0E9e/a08RF2DAlDgoYwe/ZsGdvf//73qiiZ%0AUYru7u7V1dWqZvjw4ePHjzdu5OOPP/b29v7iiy9Usbi4+OTJk+fOnWuKDls2%0AbnZ2DAmaKAUpYmNjHzx4gCFhSNA4dx5MiykpKTK24eHhqvjP//zP6l135swZ%0ANWFydHRct25dvU4RFRUlLaxataop+l9n4xjSM4jZCg7PtSEJQUFBeXl5GBKG%0ABI08koWFhVLTqVMnNSUaMWKEg4OD1GzevFmKaWlpsn369GllXdOnTw8MDOzX%0Ar9+CBQt++uknrZGYmBh5oXqaXA7z8fGRV/n5+UnlhQsXLPswZ84c2ZWVlaWK%0A7777rhRzc3PNWvvss8+Cg4NHjhypPadutXHTs9dpJAZXUS9DMuik4vPPP3/t%0Atdekt0OGDFm2bNn9+/dVvYzz8uXLX65l7dq1ktpMDammpiYxMVEa9PX1HTt2%0AbE5Ojqq/e/duQkJCWFiYNCgv2bhxI+9fOxqS4OLismnTJgwJQ4JGHsk+ffpI%0A5Z///GdJmu3bt580aZIU1Y9n582b9+KLLz569Ei2J9Uib8JZs2bJAab38Uxz%0At9iMSrKSo5cuXXrjxg3LPkgqlwNSU1NVsUePHlI8ceKEaWtyjLu7+4ABA2Tb%0A09Pz4cOHeo3Xy0hsvIo62zHopBAbGys1MnQrV67s37+/OlIN48KFC9VNUbE0%0AMRiV3TRDWrRokRRHjRolL+zYsaOHh0dJSYnUz5w5U/V2y5Yt0sJz9zvTlmdI%0AComgfKTDkEij0GgjqVLz73//e0n3svH999/L3969e8sumUm89957ZsdLYn3h%0AhRfatm178+ZNq7m7zrtqthiS2KRqv0uXLlI8cuSIXuMNu9VW51XYYkhWO3nl%0AyhUnJycpfvfdd1KsrKwU+5Hil19+eevWLWdnZ9k+dOiQmg8pu1KGdOnSJcda%0A5DApRkZGyq5t27bJthiwbNf33inv36Y2JPXZYs+ePRgShgSNM5I7d+5UXyN9%0A8sknvr6+2pzp9OnT8lc+kqvDysrKNm/eHBER8eabb6qsqt2OawpD0s6rvmXJ%0AyMhoFEOy/SpsMSSrnfz6669l29XVVaxI7ZVzSU10dPSxY8dkQyyntLTU9IXK%0AkNLT02VbZkXTa1FzQZkIyq7t27er9DdkyJDk5GTtkZPnPZu3AMSQkpKSMCQM%0ACRqCpDOzGu1rJMmbU6dOlZqPPvpIatS9O/U8myTQQYMGKd+Ki4vz9PRsakPS%0AWmtEQ6rXVdhiSFY7uXfvXtmW6ZdMgNRemWVKzbx589RDjG5ubpqjmBrSvn37%0AlJPFxMTEPkFaU0dmZ2cPGzZMJcHJkyc/X6rTflfQwmZIISEhVp9uwJAwJGg4%0Aakrk4ODwb//2b1KUD/5SbNu2bffu3dUBKleGhoaaWoheKldfhCxevFjvdKNH%0Aj5YD5FP/49qvhdq1a2e7IVk2bruR1OsqGmxIkqFUttIe0/Dz81PTqZycHLXr%0Ahx9+kPpr166pe33KkPLz89VemUjpDZ24uAqN1a8uoNkMycnJST7T6D3/jSFh%0ASNBw1NdI2gN1Z86cUUXtGXF1+87X1zclJUVmUepJPO2GlVl2/uabb6Qo6V4M%0AwOpDDStWrJAD+vbtO3fu3G7duqmvWGw0JMvGbTeSel1Fgw1JkBmM+vgsvVVT%0AOrH2srIymRgFBARIsWvXruKs/v7+nTt3Nn2oISIiQn2Bt3r16rS0NEl56oG6%0AyMjIDRs2yBDt2LFDDujQoUNrWx3umTKkwMBA4388iCFhSNBwVJrz8PBQt5Lk%0ArzKJnTt3asfMnj3b2dlZkri4yJIlS9Q7U31NYpad5eUffPCBamH//v2Wp5Op%0A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%0AXXJyMit8g0KUgCFhSAD2VN3FixdDQ0OZIQEzJAwJ4JlQ3Zo1a7SnvTEkwJAI%0AMIA9VXfmzBn1e1gMCTAkAgxgZ9U9ePBg/vz5GBJgSAQY4JlQXWZmpp+fH/oE%0ADIkAA9hfdWVlZVOmTGG4AEMiwK2OgoKCs2fP3r59m6FAdYByMCQCbE8mTpwo%0Ao7F161aGAtUBysGQCPBzYEjFxcUnT548d+4cI4bqAOVgSATYnoYUFRUlh61a%0AtYoRQ3WAcjCkFh7gXbt2jRkzxtfXt2/fvuHh4Vr9559//tprr/n4+AwZMmTZ%0AsmX3799X9TExMSNGjMjKyoqPjx8wYMCrr76akZFRUVGxYMGCPn36vP/++9ps%0ARh2Zlpb26aefDhw4sF+/fomJiXqGVFNTI3uDg4OlJ2PHjs3JyZHKlJQU6YAc%0A5ufnJ01duHBB70hLqqurly9f/nIta9eulUuQFo4dO6b2zpkzR12FKr777rtS%0AzM3NNeiM6RUlJCTI5Rw9evRf//VfpUaK2nmTk5Nl3H755RdUB+QrDIkA14MV%0AK1ZIlxwdHadNm7Zw4cLXX39d1cfGxkr9iy++uHLlyv79+8u2pN1Hjx5pRiI+%0A5O3t3atXL9nu0qXLhAkT/P39O3XqJEVxJlPLGTp0qJiK7FU/c9m5c6dVQ1q0%0AaJEUR40aJWfs2LGjh4dHSUmJGEZQUJDUjxw5cunSpTdu3NA70vLS5HLkMHd3%0Ad3GRsLAwdfYDBw6ovXI5UkxNTVXFHj16SPHEiRMGnTG9IgcHB7miI0eOSINS%0A4+XlVVlZKQfIEPXu3fudd95BdUC+wpAIcD24cuWKk5OTdGn37t1W67/77jsp%0ASqqVtC7FL7/8UkvKISEhMmcqLi5u27atFOfNm/e4dhlp2X7llVdMLUemX3Kk%0AZOopU6aoLG9pSJcuXXKs5datW1KMjIyUXdu2bXtsccvO4EhTZK+zs7PsOnTo%0AkJrxKFu1xZAMTqH6HBAQIEOkXiiDI8YslTJtkuK+fftk+9tvv0V1QL7CkAhw%0APTh48KD0x8XFpby83LT+66+/lnpXV1f1qV948803pSY6OlpLyloq79y5sxSL%0AiopkOzc3V7YDAwOtzoEkp0uxa9eulnvT09NlWyYi02tRsyKZElkaksGRphw7%0AdkzN/EpLS1WNTGtsNCSDU6g+JyUlWU7FJk2aJNsyxRw2bBiqA/IVhkSA68fe%0AvXulP506ddKMx7T+hRdekImFqnnvvfe0aVCDDemLL76Q4ksvvWS5V00sxAJj%0AYmJinyDdsDQkgyNNUXfS3Nzcqqur62tIBqew+iDG6dOnpbJdu3aHDx+2nG6i%0AOiBfYUgEuG7y8vLUNyuSSa3Wa1/yq0VltmzZ8jSGpO59yWTLcm9+fr46o/bQ%0AgYb6Omfx4sWqaHCkKTk5OeqwH374QYrXrl3r0qWLqSGNHj1aitu3b5ftrKws%0AsRPNkAxOofdk4MCBA5WF9+rVS7NAVAfkKwyJANeDyZMnq9to8fHxGRkZMhGp%0AqKjQ6kNCQr755hs1R+nevXtZWVkDDEmmRDK9+PTTTzt06GBqCWbJPSIiQoq9%0Ae/devXp1WlpaXFzcxo0bpV46IPUyg5GJi3qoQe9IU8QVAgIC1KWJpfn7+6t+%0AamdXT3P07dt37ty53bp1U1+SaQ816J1Cz5DWr1+vPMyyJ6gOyFcYEgG2iZKS%0AEpm4tG/fXuVTHx8f9Xi31M+aNUvNGxwcHN54442ff/7Z1EhsN6Rp06apCZaL%0Ai4vYkt5so7y8PDo62tXVVfXE29tb3aYTa/nggw+UYezfv9/gSDNOnTolJqr+%0AJ2ZycrLZLTuZBg0fPlw9UJ6dnW32lJ3eKfQMSWZgjo6OMkO6d+8eqgPyFYZE%0AgBtOVVXV+fPnte//zeq1XyDVFy1919TUFBQUmH1TZRV1ZHFxsVm9zNuuXr1q%0Ay5Fmx1y+fFndQzMzJIWactW3M5YcP35cbHv58uWoDshXGBIBfhZ5plars2pI%0AjYIY7cCBA52dna9fv47qgHyFIbW0AJeVlUVFRT3vFxsdHR0cHKzd3LMvERER%0A0pmm+IXQ3r17peV/+Zd/Ia0AhoQhtbQAHz9+XP1Xad4PQFoBlIMh2SfAVVVV%0AcXFxLi4u/DNpIK0AysGQ7BbgvLy8kJCQNibwfgDSCqAcDKm5A5yUlOTp6dnm%0A7+H9AKQVQDkYUvMFuKioKDw8vI01eD8AaQVQDobUTAHOyMjw8vJqowPvByCt%0AAMrBkJopwMnJyZZ36gDqi6gIQwIMCUN62gBfvHgxNDSUGRKQVgDlYEjPRIDX%0ArFmjPe2NIQFpBVAOhmTPAJ85c0b9HhZDAtIKoBwMyc4BfvDgwfz58zEkIK0A%0AysGQnokAZ2Zmqv/XwPsBSCuAcjAkOwe4rKxsypQpvB+AtAIoB0MiwIDqAOVg%0ASAQYANUBysGQCDCgOgAMiQADoDpAORgSAQZUB4AhEWAAVAcoB0MiwIDqADCk%0AVonxqswAqA5QDoYEAACtAgwJAAAwJAAAAAwJAAAwJAAAAAwJAAAwJAAAAAwJ%0AAAAwJAAAAAwJAAAwJAAAAAwJAAAwJAAAAAwJAAAwJAAAAAwJAAAwJAAAAAwJ%0AAAAwJAAAAAwJAAAwJAAAAAwJAAAwJAAAAAwJAAAwJAAAAAwJAAAwJAAAAAwJ%0AAAAwJAAAAAwJAAAwJAwJAACeIUMCAACwIxgSAABgSAAAAE/4/5UDPset7JK1%0AAAAAAElFTkSuQmCC%0A" alt="Text Diagram" class="img-rounded img-thumbnail center-block ditaa">
<p>The schema agreement wait is performed synchronously, so the <code>execute</code>
call – or the completion of the <code>ResultSetFuture</code> if you use the async
API – will only return after it has completed.</p>

<p>The check is implemented by repeatedly querying system tables for the
schema version reported by each node, until they all converge to the
same value. If that doesn’t happen within a given timeout, the driver
will give up waiting.  The default timeout is 10 seconds, it can be
customized when building your cluster:</p>
<pre class="highlight"><code><span class="n">Cluster</span> <span class="n">cluster</span> <span class="o">=</span> <span class="n">Cluster</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">addContactPoint</span><span class="o">(</span><span class="s">"127.0.0.1"</span><span class="o">)</span>
    <span class="o">.</span><span class="na">withMaxSchemaAgreementWaitSeconds</span><span class="o">(</span><span class="mi">20</span><span class="o">)</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</code></pre>
<p>After executing a statement, you can check whether schema agreement was
successful or timed out:</p>
<pre class="highlight"><code><span class="n">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="s">"CREATE TABLE..."</span><span class="o">);</span>
<span class="k">if</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getExecutionInfo</span><span class="o">().</span><span class="na">isSchemaInAgreement</span><span class="o">())</span> <span class="o">{</span>
    <span class="c1">// schema is in agreement</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="c1">// schema agreement timed out</span>
<span class="o">}</span>
</code></pre>
<p>You can also perform an on-demand check at any time:</p>
<pre class="highlight"><code><span class="k">if</span> <span class="o">(</span><span class="n">cluster</span><span class="o">.</span><span class="na">getMetadata</span><span class="o">().</span><span class="na">checkSchemaAgreement</span><span class="o">())</span> <span class="o">{</span>
    <span class="c1">// schema is in agreement</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="c1">// schema is not in agreement</span>
<span class="o">}</span>
</code></pre>
<p>The on-demand check does not retry, it only queries system tables once
(so <code>maxSchemaAgreementWaitSeconds</code> does not apply). If you need
retries, you’ll have to schedule them yourself (for example with a
custom executor).</p>

<p>Check out the API docs for the features in this section:</p>

<ul>
<li><a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Cluster.Builder.html#withMaxSchemaAgreementWaitSeconds(int)">withMaxSchemaAgreementWaitSeconds(int)</a></li>
<li><a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/ExecutionInfo.html#isSchemaInAgreement()">isSchemaInAgreement()</a></li>
<li><a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Metadata.html#checkSchemaAgreement()">checkSchemaAgreement()</a></li>
</ul>

<h3 id="token-metadata" class="target">Token metadata<a class="anchor" href="#token-metadata" aria-hidden="true"><span class="glyphicon glyphicon-link"></span></a>
</h3>

<p>This feature is probably of less interest to regular driver users, but
it will be useful if you’re writing an analytics client on top of the
driver.</p>

<p><a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Metadata.html">Metadata</a> exposes a number of methods to manipulate tokens
and ranges: <a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Metadata.html#getTokenRanges()">getTokenRanges()</a>, <a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Metadata.html#getTokenRanges(java.lang.String,%20com.datastax.driver.core.Host)">getTokenRanges(String
keyspace, Host host)</a>, <a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Metadata.html#getReplicas(java.lang.String,%20com.datastax.driver.core.TokenRange)">getReplicas(String keyspace,
TokenRange range)</a>, <a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Metadata.html#newToken(java.lang.String)">newToken(String)</a> and
<a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Metadata.html#newTokenRange(com.datastax.driver.core.Token,%20com.datastax.driver.core.Token)">newTokenRange(Token start, Token end)</a>.</p>

<p><a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/TokenRange.html">TokenRange</a> provides various operations on ranges
(splitting, merging, etc.).</p>

<p>Each host exposes its primary tokens as <a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Host.html#getTokens()">getTokens()</a>.</p>

<p>Finally, you can inject tokens in CQL queries with
<a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/BoundStatement.html#setToken(int,%20com.datastax.driver.core.Token)">BoundStatement#setToken</a>, and retrieve them from results with
<a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Row.html#getToken(int)">Row#getToken</a> and <a href="http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/Row.html#getPartitionKeyToken()">Row#getPartitionKeyToken</a>.</p>

<p>As an example, here is how you could compute the splits to partition a
job (pseudocode):</p>
<pre><code>metadata = cluster.getMetadata()
for range : metadata.getTokenRanges() {
    hosts = metadata.getReplicas(keyspace, range)
    int n = estimateNumberOfSplits() // more on that below
    for split : range.splitEvenly(n)
        // pick a host to process split
}
</code></pre>
<p>For <code>estimateNumberOfSplits</code>, you need a way to estimate the total
number of partition keys (this is what analytics clients would
traditionally do with the Thrift operation <code>describe_splits_ex</code>).
Starting with Cassandra 2.1.5, this information is available in a system
table (see
<a href="https://issues.apache.org/jira/browse/CASSANDRA-7688">CASSANDRA-7688</a>).</p>


        </div>
      </div>
    </div>

    
    <footer class="container text-muted">
      <ul class="list-inline">
      
        
        <li>
          <a href="https://github.com/datastax/java-driver/">Code</a>
        </li>
      
        <li>·</li>
        <li>
          <a href="http://datastax.github.io/java-driver/">Docs</a>
        </li>
      
        <li>·</li>
        <li>
          <a href="https://datastax-oss.atlassian.net/browse/JAVA/">Issues</a>
        </li>
      
        <li>·</li>
        <li>
          <a href="https://groups.google.com/a/lists.datastax.com/forum/#!forum/java-driver-user">Mailing List</a>
        </li>
      
        <li>·</li>
        <li>
          <a href="irc://irc.freenode.net/datastax-drivers">IRC Channel</a>
        </li>
      
        <li>·</li>
        <li>
          <a href="https://github.com/datastax/java-driver/releases">Releases</a>
        </li>
      
      </ul>
    </footer>
    

    <script src="../../../js/jquery.js"></script>
    <script src="../../../js/bootstrap.js"></script>
    <script src="../../../js/angular.js"></script>
    <script src="../../../js/mousetrap.js"></script>
    <script src="../../../js/hotkeys.js"></script>
    <script src="../../../js/ZeroClipboard.js"></script>
    <script src="../../../js/lunr.js"></script>
    <script src="../../../js/app.js"></script>
  </body>
</html>
